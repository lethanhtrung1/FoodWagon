@using Microsoft.AspNetCore.Identity

@inject UserManager<ApplicationUser> UserManager
@inject SignInManager<ApplicationUser> SignInManager

@if (SignInManager.IsSignedIn(User)) {
	<li class="nav-item dropdown">
		<a class="nav-link text-dark dropdown-toggle mr-3" href="#" id="navbarDropdown"
		   role="button" data-bs-toggle="dropdown" aria-expanded="false" style="padding: 0">
			<img src="~/images/avatar/avatar-2.png" alt="..." class="avatar-img rounded-circle" style="width: 35px">
			@* @UserManager.GetUserName(User) *@
			<i class="bi bi-chevron-down" style="font-size: 10px"></i>
		</a>
		<ul class="dropdown-menu" aria-labelledby="navbarDropdown">
			<li class="px-4">
				<span class="text-danger">
					@UserManager.GetUserName(User)
				</span>
			</li>
			<li><hr class="dropdown-divider"></li>
			<li>
				<a class="dropdown-item" asp-area="Customer" asp-controller="Profile" asp-action="Index" title="Manage">
					<i class="bi bi-person me-2"></i>&nbsp;My Account
				</a>
			</li>
			<li><a class="dropdown-item" asp-area="Customer" asp-controller="Order" asp-action="Index">
				<i class="bi bi-bag me-2"></i>&nbsp;My Orders</a>
			</li>
			<li><a class="dropdown-item" href="#"><i class="bi bi-gear me-2"></i>&nbsp;Setting</a></li>

			<li><hr class="dropdown-divider"></li>
			<li>
				<form id="formLogout" class="dropdown-item text-start" method="post" style="margin: -10px 0"
					  asp-area="Account" asp-controller="Auth" asp-action="LogoutAPI">
					<button id="logout" type="submit" class="nav-link btn btn-link text-black border-0" style="padding-left: 0">
						<i class="bi bi-box-arrow-right me-2"></i> Logout
					</button>
				</form>
			</li>
		</ul>
	</li>
} else {
	<li class="nav-item">
		<a class="nav-link text-dark" id="register"
		   asp-area="Account" asp-controller="Auth" asp-action="Register">Register</a>
	</li>
	<li class="nav-item">
		<a class="nav-link text-dark" id="login"
		   asp-area="Account" asp-controller="Auth" asp-action="Login">Login</a>
	</li>
}
