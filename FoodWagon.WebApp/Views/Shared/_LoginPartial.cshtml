@using Microsoft.AspNetCore.Identity

@inject UserManager<ApplicationUser> UserManager
@inject SignInManager<ApplicationUser> SignInManager

@if (SignInManager.IsSignedIn(User)) {
	<li class="nav-item dropdown">
		<a class="nav-link text-dark dropdown-toggle" href="#" id="navbarDropdown"
		   role="button" data-bs-toggle="dropdown" aria-expanded="false">
			<i class="bi bi-bell mr-2"></i>
			Hello @UserManager.GetUserName(User)!
		</a>
		<ul class="dropdown-menu" aria-labelledby="navbarDropdown">
			<li>
				<a class="dropdown-item" asp-area="Customer" asp-controller="Profile" asp-action="Index" title="Manage">
					<i class="bi bi-person me-2"></i>&nbsp;Account
				</a>
			</li>
			<li><a class="dropdown-item" href="#"><i class="bi bi-bag me-2"></i>&nbsp;Purchase</a></li>
			<li><a class="dropdown-item" href="#"><i class="bi bi-gear me-2"></i>&nbsp;Setting</a></li>

			<li><hr class="dropdown-divider"></li>
			<li>
				<form id="formLogout" class="dropdown-item text-start" method="post" style="margin: -10px 0"
					  asp-area="Account" asp-controller="Auth" asp-action="LogoutAPI">
					<button id="logout" type="submit" class="nav-link btn btn-link text-black border-0" style="padding-left: 0">
						<i class="bi bi-box-arrow-right me-2"></i> Logout
					</button>
				</form>
			</li>
		</ul>
	</li>
} else {
	<li class="nav-item">
		<a class="nav-link text-dark" id="register"
		   asp-area="Account" asp-controller="Auth" asp-action="Register">Register</a>
	</li>
	<li class="nav-item">
		<a class="nav-link text-dark" id="login"
		   asp-area="Account" asp-controller="Auth" asp-action="Login">Login</a>
	</li>
}
